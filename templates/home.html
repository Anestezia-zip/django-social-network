{% extends "base.html" %}

{% block content %}
{% load custom_filters static %}


<section class="parallax-hero">
    <div class="hero-container">
        <div class="hero-block">
            <h2>Help others realize outstanding projects through your knowledge and skills</h2>
            {% if not user.is_authenticated %}
                <a class="button-52" href="{% url 'account_signup' %}">I CAN HELP</a>
            {% endif %}
        </div>
        <div class="hero-middle-line"></div>
        <div class="hero-block">
            <h2>Seek volunteers for your activities and ideas, empowering productive projects</h2>
            {% if not user.is_authenticated %}
                <a class="button-52" href="{% url 'account_signup' %}">I NEED HELP</a>
            {% endif %}
        </div>
    </div>
</section>

<section class="container-fluid" id="homepage-container">
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        {% for post in posts_list %}
        <div class="col col-lg-4 col-md-6 col-12">
            <div class="card">
                <div class="card-body">
                    {% if post.author.userprofile.avatar.url %}
                        <div class="image-container">
                            <img width="30px" height="30px" class="profile-img"
                                src="{{ post.author.userprofile.avatar.url }}"
                                alt="card-img">
                            <span class="card-author">{{ post.author }}</span>
                        </div>
                    {% else %}
                        <div class="image-container">
                            <img width="30px" height="30px" class="profile-img"
                                src="https://cdn0.iconfinder.com/data/icons/unigrid-flat-human-vol-2/90/011_101_anonymous_anonym_hacker_vendetta_user_human_avatar-1024.png"
                                alt="card-img">
                            <span class="card-author">{{ post.author }}</span>
                        </div>
                    {% endif %}
                    <div class="card-img-box">
                        {% if "placeholder" in post.featured_image.url %}
                        <img class="card-detail-image" src="{% static 'images/volunteers-default-img.png' %}"
                            width="100%">
                        {% else %}
                        <img class="card-detail-image" src=" {{ post.featured_image.url }}">
                        {% endif %}
                    </div>

                    <a href="{% url 'post_detail' post.slug %}" class="post-link">
                        <h2 class="card-title">{{ post.title }}</h2>
                    </a>
                    <p class="card-content">{{ post.content|truncate_text:170|safe }}</p>
                    <hr />
                    <p class="card-text text-muted h6">
                        {{ post.date_created }} {{ post.number_of_likes }}
                    </p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<section class="map-descr-section">
    <p class="map-descr-text-bold">This map shows only part of the destruction caused by the Russian military and government. 
        And only part of the big cities. If we take into attention small cities or villages, there are 10 times as many red circles. 
        Or even more.
        The Russian military is killing and maiming the lives of the Ukrainian people day after day. 
    </p>
    <p class="map-descr-text-bold">No matter what city Ukrainians are in - they can meet death from a Russian missile everywhere</p>
</section>

<div id="map-container">
    <img src="{% static 'images/map-of-ukraine.jpg' %}" alt="Ukraine Map" id="map-image">

    <div>
        {% for region in regions %}
        <button class="region-button"
                id="{{ region.name }}" 
                data-region-images="{{ region.image.url }},{{ region.image2.url }},{{ region.image3.url }},{{ region.image4.url }}" 
                data-region-name="{{ region.name }}"
                data-region-description="{{ region.description }}"
        >
            <i class="fa-solid fa-house-chimney-crack"></i>   
            <div class="region-popup">
                <h2>{{ region.name }}</h2>
                <img class="region-popup-zoom-img" src="{{ region.image.url }}" alt="{{ region.name }}">
                <hr/>
                <p>{{ region.description }}</p>
                <div class="photo-hint">Click to enlarge</div>
            </div>
        </button>
        {% endfor %}
    </div>
</div>

<!-- Element for displaying the full-screen image -->
<div id="full-screen-overlay">
    <div id="full-screen-image-container"></div>
</div>

<section class="map-descr-section">
    <p class="map-descr-text-bold">The Russian occupiers are killing civilians, kidnapping and torturing Ukrainian journalists, politicians and public figures, 
        and they are also deporting Ukrainian citizens. The Russian occupiers are shooting at humanitarian corridors, looting Ukrainian businesses, 
        shops and homes, and raping women. Hundreds of cases of rape have been recorded, including of underage girls, very young children, and even babies. 
        The Russian occupiers organized a massacre of civilians in the town of Bucha in the Kyiv region 
        (see <a href="https://www.google.com/search?sca_esv=581957467&q=bucha+massacre&tbm=isch&source=lnms&sa=X&sqi=2&ved=2ahUKEwiB6MyauMGCAxUuX0EAHXPMAwQQ0pQJegQIChAB&biw=1536&bih=730&dpr=1.25">Bucha Massacre</a> ).
    </p>
</section>

{%endblock%}